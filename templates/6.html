<html><!-- Window by Jan Robert Leetge -->

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script>
        const sp = new URLSearchParams(window.location.search).get("payload");
        const searchParams = JSON.parse(sp ? atob(sp) : "{}")

        console.log(searchParams.tokenId, searchParams.hash);

        let tokenData = {
            "tokenId": searchParams.tokenId,
            "hash": searchParams.hash
        }
    </script>
    <style type="text/css">
        html {
            height: 100%;
        }

        body {
            min-height: 100%;
            margin: 0;
            padding: 0;
        }

        canvas {
            padding: 0;
            margin: auto;
            display: block;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
    </style>
</head>

<body>
    <canvas>
    </canvas>
    <script>
        class Random {
            constructor() {
                this.useA = !1;
                let e = function (e) {
                    let t = parseInt(e.substr(0, 8), 16),
                        r = parseInt(e.substr(8, 8), 16),
                        o = parseInt(e.substr(16, 8), 16),
                        l = parseInt(e.substr(24, 8), 16);
                    return function () {
                        let e = ((t |= 0) + (r |= 0) | 0) + (l |= 0) | 0;
                        return l = l + 1 | 0, t = r ^ r >>> 9, r = (o |= 0) + (o << 3) | 0, o = (o = o << 21 | o >>> 11) + e | 0, (e >>> 0) / 4294967296
                    }
                };
                this.prngA = new e(tokenData.hash.substr(2, 32)),
                    this.prngB = new e(tokenData.hash.substr(34, 32));
                for (let e = 0; e < 1e6; e += 2)
                    this.prngA(),
                        this.prngB()
            }
            random_dec() {
                return this.useA = !this.useA, this.useA ? this.prngA() : this.prngB()
            }
            rdm(e, t = 0) {
                return Math.round(t + this.random_dec() * e)
            }
        }
        let R = new Random,
            bgcs = ["white", "gray", "black"],
            bgcNum = 0,
            style = document.createElement("style");
        document.head.appendChild(style);
        let ss = e => style.sheet.insertRule(e);
        ss("* { user-select: none }"),
            ss("div { position: absolute; box-sizing: border-box}"),
            ss(".bg { top:0;right:0;bottom:0;left:0;background-color:transparent}"),
            ss(".s { border-style: solid; }"),
            ss(".f { width: 100%; height: 100%; }"),
            ss(".titleBar { top: 0; left: 0; right: 0; }"),
            ss(".outerBevelTitle { width: 100%; border-left-color: black; border-top-color: black; border-right-color: black; border-bottom-color: black; }"),
            ss(".innerBevelTitle { border-left-color: white; border-top-color: white; border-right-color: gray; border-bottom-color: gray;}"),
            ss(".outerBevel { width: 100%; bottom: 0; border-left-color: gainsboro; border-top-color: gainsboro; border-right-color: black; border-bottom-color: black; }"),
            ss(".innerBevel { border-left-color: white; border-top-color: white; border-right-color: darkgray; border-bottom-color: darkgray; }"),
            ss("hr { border-top: 2px solid white; border-bottom: 2px solid #777777; margin: 0; }"),
            ss(".resizeSide { top: 0; right: 0; bottom: 10px; width: 10px; background-color: transparent; cursor: ew-resize; }"),
            ss(".resizeBottom { left: 0; bottom: 0; right: 10px; height: 10px; background-color: transparent; cursor: ns-resize; }"),
            ss(".resizeCorner { width: 10px; height: 10px; right: 0; bottom: 0; background-color: transparent; cursor: nwse-resize; }"),
            ss(".frameOuterBevel { border-left-color: gray; border-top-color: gray; border-right-color: white; border-bottom-color: white; }"),
            ss(".frameInnerBevel { border-left-color: black; border-top-color: black; border-right-color: gainsboro; border-bottom-color: gainsboro; }"),
            ss(".frameInnerBevelMac { border-left-color: black; border-top-color: black; border-right-color: black; border-bottom-color: black; }");
        let browserWidth,
            browserHeight,
            ws,
            w,
            bg,
            outerBevel,
            titleBar,
            resizeCorner,
            resizeSide,
            resizeBottom,
            contentField,
            innerBevel,
            outerBevelTitle,
            innerBevelTitle,
            offsetWindow,
            currentDragObject,
            mac = 0 == R.rdm(1),
            silverColor = mac ? "#dddddd" : "silver",
            colorDisperse = 1 + R.rdm(10),
            colorArray = colArray(colorDisperse),
            last = {
                x: 0,
                y: 0,
                w: 0,
                h: 0
            },
            mouseStart = {
                x: 0,
                y: 0
            },
            fs = !1,
            splitCountMax = 5 + 1500 * R.rdm(1),
            omitVal = 5,
            splitCount = 0,
            renderRes = 7680,
            levels = [4, 10, 1500],
            level = levels[R.rdm(2)];
        function rotateDevice() {
            location.reload()
        }
        function resizeWork(e) {
            getBox(),
                last.x = Math.round(browserWidth / 2 - ws / 2),
                last.y = Math.round(browserHeight / 2 - ws / 2),
                last.w = last.h = ws,
                fs ? (w.style.left = "0px", w.style.top = "0px", w.style.width = window.innerWidth + "px", w.style.height = window.innerHeight + "px") : (w.style.width = ws + "px", w.style.height = ws + "px", w.style.left = last.x + "px", w.style.top = last.y + "px"),
                e && document.body.appendChild(w),
                omitDetails(wp)
        }
        function getBox(e) {
            browserWidth = e || window.innerWidth,
                browserHeight = e || window.innerHeight,
                shortestSide = browserHeight > browserWidth ? browserWidth : browserHeight,
                ws = Math.round(90 * shortestSide / 100)
        }
        function colArray(e) {
            let t = ["lime", "black", "yellow", "red", "blue", silverColor, "white"],
                r = [0, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
                o = R.rdm(r.length - 1),
                l = [],
                i = ["white", silverColor, t[r[o]]];
            for (let t = 0; t < e; t++) {
                let e = R.rdm(2);
                l.push(i[e])
            }
            return l
        }
        function createNewWindow() {
            wp = 2,
                getBox(renderRes),
                last.w = last.h = ws,
                last.x = Math.round(browserWidth / 2 - ws / 2),
                last.y = Math.round(browserHeight / 2 - ws / 2),
                bg = createAndAddDiv(document.body, ["bg"]),
                (w = document.createElement("div")).classList.add("wincontainer"),
                w.style.height = ws + "px",
                mac ? (outerBevelTitle = createAndAddDiv(w, ["outerBevelTitle", "s"]), innerBevelTitle = createAndAddDiv(outerBevelTitle, ["innerBevelTitle", "s", "f"]), titleBar = createAndAddDiv(innerBevelTitle, ["titleBar"]), outerBevel = createAndAddDiv(w, ["outerBevel", "s"]), innerBevel = createAndAddDiv(outerBevel, ["innerBevel", "s", "f"]), outerBevelTitle.style.height = 20 * wp + "px", outerBevel.style.top = 20 * wp - wp / 2 + "px") : ((outerBevel = createAndAddDiv(w, ["outerBevel", "s"])).style.top = "0", innerBevel = createAndAddDiv(outerBevel, ["innerBevel", "s", "f"]), titleBar = createAndAddDiv(innerBevel, ["titleBar"])),
                contentField = createAndAddDiv(innerBevel, ["contentField"]),
                resizeCorner = createAndAddDiv(w, ["resizeCorner"]),
                resizeSide = createAndAddDiv(w, ["resizeSide"]),
                resizeBottom = createAndAddDiv(w, ["resizeBottom"]),
                w.style.width = ws + "px",
                w.style.left = last.x + "px",
                w.style.top = last.y + "px",
                outerBevel.style.backgroundColor = silverColor,
                outerBevel.style.borderWidth = wp + "px",
                innerBevel.style.borderWidth = wp + "px",
                titleBar.style.margin = wp + "px",
                mac ? (contentField.style.top = wp + "px", outerBevelTitle.style.borderWidth = wp + "px", innerBevelTitle.style.borderWidth = wp + "px", outerBevelTitle.style.backgroundColor = silverColor, outerBevel.style.borderLeftColor = "black", outerBevel.style.borderTopColor = "black") : (titleBar.style.height = 15 * wp + "px", contentField.style.top = 17 * wp + "px"),
                contentField.style.left = wp + "px",
                contentField.style.right = wp + "px",
                contentField.style.bottom = wp + "px",
                titleBarGenerator(),
                splitAllLevels(contentField),
                setEvents(),
                resizeWork(!0),
                1200 == browserWidth && (wp = 3, thicken(wp))
        }
        function thicken(e) {
            if (mac) {
                outerBevelTitle.style.height = 20 * e + "px",
                    outerBevel.style.top = 20 * e - e / 2 + "px",
                    contentField.style.top = e + "px",
                    outerBevelTitle.style.borderWidth = e + "px",
                    innerBevelTitle.style.borderWidth = e + "px";
                let t = document.querySelectorAll("hr");
                for (let r = 0; r < 6; r++)
                    t[r].style.borderWidth = e + "px";
                let r = document.querySelectorAll(".frameInnerBevelMac");
                for (let t = 0; t < r.length; t++)
                    r[t].style.borderWidth = e + "px"
            } else {
                titleBar.style.height = 15 * e + "px",
                    contentField.style.top = 17 * e + "px";
                let t = document.querySelectorAll(".frameInnerBevel");
                for (let r = 0; r < t.length; r++)
                    t[r].style.borderWidth = e + "px"
            }
            let t = document.querySelectorAll(".frameOuterBevel");
            for (let r = 0; r < t.length; r++)
                t[r].style.borderWidth = e + "px";
            outerBevel.style.borderWidth = e + "px",
                innerBevel.style.borderWidth = e + "px",
                titleBar.style.margin = e + "px",
                omitDetails(e)
        }
        function splitAllLevels(e) {
            let t = [e];
            for (let e = 0; e < level; e++) {
                if (!(t = splitLevel(t)).length)
                    break
            }
        }
        function splitLevel(e) {
            let t = [];
            for (let r = 0; r < e.length; r++) {
                let o = R.rdm(1);
                o = 0 != o;
                let l = createSubWindowPair(e[r], o);
                if (l)
                    for (let e = 0; e < 2; e++)
                        l[e].classList.contains("empty") && t.push(l[e])
            }
            return t
        }
        function createSubWindowPair(e, t) {
            let r;
            if ("contentField" == e.className) {
                let t = {
                    height: 6861,
                    width: 6900
                };
                e.box = t
            }
            let o = t ? e.box.height : e.box.width,
                l = 5 * wp + R.random_dec() * (o - 10 * wp),
                i = l / o * 100;
            return e.box.height > 10 * wp && e.box.width > 10 * wp ? ((r = [])[0] = createSubWindow(e, 0, i, t, l), r[1] = createSubWindow(e, i, 100 - i, t, o - l)) : r = !1, r
        }
        function createSubWindow(e, t, r, o, l) {
            let i,
                s = R.rdm(2),
                n = R.rdm(colorArray.length - 1);
            if (0 == s) {
                let t;
                div = createAndAddDiv(e, ["frameOuterBevel", "s", "f"]),
                    div.style.borderWidth = wp + "px",
                    (t = createAndAddDiv(div, mac ? ["frameInnerBevelMac", "s", "f"] : ["frameInnerBevel", "s", "f"])).style.borderWidth = wp + "px",
                    t.style.background = colorArray[n],
                    i = t
            } else
                div = createAndAddDiv(e, ["empty", "f"]),
                    i = div;
            return i.box = {}, o ? (i.box.width = e.box.width, i.box.height = l, div.style.width = "100%", div.style.height = r + "%", div.style.top = t + "%") : (i.box.width = l, i.box.height = e.box.height, div.style.height = "100%", div.style.width = r + "%", div.style.left = t + "%"), i
        }
        function titleBarGenerator() {
            let e = titleBar.style;
            if (mac) {
                e.padding = "2px",
                    e.background = "linear-gradient(to right, rgb(221,221,221) 0%,rgb(221,221,221) 100%)";
                for (let e = 0; e < 6; e++) {
                    let e = document.createElement("hr");
                    e.style.borderWidth = wp + "px",
                        titleBar.appendChild(e)
                }
            } else {
                if (R.rdm(10) < 1) {
                    let t = R.rdm(145, 50),
                        r = R.rdm(145, 50);
                    e.background = "linear-gradient(to right, rgb(" + t + "," + t + "," + t + ") 0%,rgb(" + r + "," + r + "," + r + ") 100%)"
                } else {
                    let t = R.rdm(195, 50),
                        r = R.rdm(195, 50);
                    e.background = "linear-gradient(to right, rgb(0,0," + t + ") 0%,rgb(50,50," + r + ") 100%)"
                }
            }
        }
        function createAndAddDiv(e, t) {
            let r = document.createElement("div");
            return r.classList.add(...t), e.appendChild(r), r
        }
        function setEvents() {
            titleBar.addEventListener("mousedown", dragStart),
                titleBar.addEventListener("dblclick", fullScreen),
                resizeSide.addEventListener("mousedown", dragStart),
                resizeBottom.addEventListener("mousedown", dragStart),
                resizeCorner.addEventListener("mousedown", dragStart),
                bg.addEventListener("click", setBgColor)
        }
        function setBgColor(e) {
            2 == bgcNum ? bgcNum = 0 : bgcNum++,
                this.style.backgroundColor = bgcs[bgcNum]
        }
        function fullScreen(e) {
            e.stopPropagation(),
                fs ? (w.style.left = last.x + "px", w.style.top = last.y + "px", w.style.width = last.w + "px", w.style.height = last.h + "px", fs = !1) : (w.style.left = "0px", w.style.top = "0px", w.style.width = window.innerWidth + "px", w.style.height = window.innerHeight + "px", fs = !0),
                omitDetails(wp)
        }
        function omitDetails(e) {
            let t = document.querySelectorAll(".frameOuterBevel");
            for (let r = 0; r < t.length; r++)
                t[r].style.visibility = t[r].getBoundingClientRect().width < omitVal * e || t[r].getBoundingClientRect().height < omitVal * e ? "hidden" : "visible"
        }
        function dragStart(e) {
            e.stopPropagation(),
                currentDragObject = this.className,
                mouseStart.x = e.pageX,
                mouseStart.y = e.pageY,
                offsetWindow = w.getBoundingClientRect(),
                document.addEventListener("mousemove", dragMove),
                document.addEventListener("mouseup", dragStop)
        }
        function dragMove(e) {
            if ("titleBar" == currentDragObject) {
                let t = {};
                t.x = offsetWindow.left + e.pageX - mouseStart.x,
                    t.y = offsetWindow.top + e.pageY - mouseStart.y,
                    (Math.abs(e.pageX - mouseStart.x) > 1 || Math.abs(e.pageY - mouseStart.y) > 1) && (last.x = t.x, last.y = t.y),
                    w.style.left = t.x + "px",
                    w.style.top = t.y + "px"
            }
            let t = offsetWindow.width + e.pageX - mouseStart.x,
                r = offsetWindow.height + e.pageY - mouseStart.y;
            (t > 80 && "resizeSide" == currentDragObject || t > 80 && "resizeCorner" == currentDragObject) && (w.style.width = t + "px", last.w = t),
                (r > 80 && "resizeBottom" == currentDragObject || r > 80 && "resizeCorner" == currentDragObject) && (w.style.height = r + "px", last.h = r),
                omitDetails(wp)
        }
        function dragStop() {
            mouseStart.x = 0,
                mouseStart.y = 0,
                currentDragObject = !1,
                document.removeEventListener("mousemove", dragMove)
        }
        window.addEventListener("load", createNewWindow, !1),
            window.addEventListener("resize", resizeWork, !1),
            window.addEventListener("orientationchange", rotateDevice, !1);
    </script>


</body>

</html>
